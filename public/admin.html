<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TalkHint - Admin Console</title>
    <link rel="stylesheet" href="/css/admin.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>TalkHint – Admin Console</h1>
        </header>

        <!-- WebSocket Status Card -->
        <section class="admin-card" id="websocket-status-card">
            <h2>WebSocket Status</h2>
            <div class="status-container">
                 <span class="status-badge disconnected" id="ws-status-badge">Disconnected</span> <!-- Default to disconnected -->
            </div>
        </section>

        <!-- Current Call Card -->
        <section class="admin-card" id="current-call-card">
            <h2>Current Call</h2>
            <p><strong>SID:</strong> <span id="current-call-sid">N/A</span></p> 
        </section>

        <!-- System Logs Card -->
        <section class="admin-card" id="system-logs-card">
            <h2>System Logs</h2>
            <ul id="system-logs-list" class="logs-list">
                <!-- Logs will be added here dynamically by JS -->
                 <li>
                     <span class="log-time">--:--:--</span>
                     <span class="log-message">Waiting for connection...</span>
                 </li>
            </ul>
        </section>

    </div>

    <!-- Link JS file for dynamic updates -->
    <script src="/js/admin.js" defer></script> 

    <h1>Admin Panel / Logs</h1>
    <p>(Work in Progress)</p>

    <!-- ADDED: Log area for WebSocket messages -->
    <div id="admin-log-area" style="height: 400px; overflow-y: scroll; border: 1px solid #ccc; background: #f8f9fa; padding: 10px; margin-top: 20px; font-family: monospace; font-size: 12px;">
        Logs will appear here...
    </div>
    <!-- END ADDED -->

    <p><a href="/">← Back to Main Page</a></p>
    
    <!-- Add admin-specific content here later -->
    
    <script src="/js/admin.js"></script> <!-- ADDED script include -->

    <!-- Consent Banner -->
    <div id="consent-banner">
        <p>
            By continuing to use this site, you agree to our
            <a href="/terms" target="_blank">Terms of Service</a>,
            <a href="/privacy" target="_blank">Privacy Policy</a>, and
            <a href="/call-policy" target="_blank">Call Policy</a>.
            This service is provided by All Digital Land LLC. No calls are recorded.
            For questions, contact Irina Toma at alldigitalland@outlook.com or +1 (754) 230-0884.
        </p>
        <button id="accept-consent">Accept</button>
    </div>

    <script>
        // --- Consent Banner Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            const consentBanner = document.getElementById('consent-banner');
            const acceptButton = document.getElementById('accept-consent');

            if (!consentBanner || !acceptButton) {
                console.warn('Consent banner elements not found.');
                return;
            }

            // Check if consent already given
            if (localStorage.getItem('cookieConsent') === 'true') {
                consentBanner.style.display = 'none';
            } else {
                consentBanner.style.display = 'block';
            }

            // Handle accept button click
            acceptButton.addEventListener('click', () => {
                localStorage.setItem('cookieConsent', 'true');
                consentBanner.style.display = 'none';
            });
        });
    </script>
</body>
</html> 